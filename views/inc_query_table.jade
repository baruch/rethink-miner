div.panel-group#accordion
  div(class=['panel', 'panel-default'])
    h1.panel-title
      a(href='#collapseOne', 'data-toggle'='collapse', 'data-parent'='#accordion')
        | Query: #{result.name}
  div(class=['panel-collapse', 'collapse'], id='collapseOne')
    div.panel-body
      | Code: #{result.query}

script(src='/javascripts/sorttable.js').

if result.headers
  table(class=['table-striped', 'table', 'sortable'])
    thead
      tr
        each header in result.headers
          th= header
    tbody
      if result.res
        each entry in result.res
          tr
            each field in entry
              td= field
      else
        tr
          td(colspan="#{headers.length}") no results
else
  div No headers for some reason 
